<!DOCTYPE HTML>
<html>
<head>
    <title>Index</title>
    <link href="/src/css/filter/bootstrap.css" rel='stylesheet' type='text/css' />
    <link href="/src/css/filter/bootstrap-table.css" rel="stylesheet">
    <script src="/src/js/filter/jquery.min.js"></script>
    <link href="/src/css/filter/style.css" rel='stylesheet' type='text/css' />
    <!-- Custom Theme files -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="" />

    <script type="text/javascript" src="/src/js/filter/move-top.js"></script>
    <script type="text/javascript" src="/src/js/filter/easing.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function($) {
            $(".scroll").click(function(event){
                event.preventDefault();
                $('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
            });
        });
    </script>
    <script type="text/javascript" src="http://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div id="home" class="header" style="background-image: linear-gradient(to right, #0C0C0C, #00C6D7);">
        <div class="container">
            <div class="top-header">
                <div class="top-nav">
                    <div class="navigation">
                        <div class="logo">
                            <h1><span>V</span>isualization</h1>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="banner-info">
                    <table id="table" class="table table-sm" style="background-color: #dddddd" data-toggle="table" data-custom-sort="customSort">
                        <thead>
                        <tr>
                            <th data-sortable="true">Author Rank</th>
                            <th data-sortable="true">Author Name</th>
                            <th data-sortable="true">Fellow</th>
                            <th data-sortable="true">Citation Count</th>
                            <th data-sortable="true">h-index</th>
                            <th data-sortable="true">Paper Count</th>
                            <th>Search</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for scholar in scholarList %}
                        <tr>
                            <td>{{ scholar.seq }}</td>
                            <td>{{ scholar.name }}</td>
                            <td>{{ scholar.fellow }}</td>
                            <td>{{ scholar.citationCount }}</td>
                            <td>{{ scholar.hindex }}</td>
                            <td>{{ scholar.num }}</td>
                            <td>
                                <a class="btn-sm btn-primary" href="/index_alt/{{ scholar.seq }}" id="{{ scholar.score }}">search</a>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="/src/js/filter/bootstrap.js"></script>
    <script src="/src/js/filter/bootstrap.bundle.js"></script>
    <script src="/src/js/filter/bootstrap-table.js"></script>

    <script>
        function customSort(sortName, sortOrder, data) {
            console.log(sortName);
            console.log(sortOrder);
            console.log(data);
            console.log(data[0][6].slice(-13, -12));
            var order = sortOrder === 'desc' ? -1 : 1;
            data.sort(function (a, b) {
                if (sortName == 1) {
                    if (a[sortName] < b[sortName]) {
                        return order * -1;
                    }
                    if (a[sortName] > b[sortName]) {
                        return order;
                    }
                    return 0;
                }
                if (sortName == 2) {
                    var aa = Number(a[6].slice(-13, -12));
                    var bb = Number(b[6].slice(-13, -12));
                    if (aa < bb) {
                        return order * -1;
                    }
                    if (aa > bb) {
                        return order;
                    }
                    return 0;
                }
                var aa = +((a[sortName] + '').replace(/[^\d]/g, ''));
                var bb = +((b[sortName] + '').replace(/[^\d]/g, ''));
                if (aa < bb) {
                    return order * -1;
                }
                if (aa > bb) {
                    return order;
                }
                return 0;
            })
      }
    </script>

</body>
</html>
